<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ultimate Funny Page üòÇ</title>

  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, Helvetica, sans-serif;
      background: linear-gradient(135deg, #667eea, #764ba2);
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      text-align: center;
      transition: 0.5s;
    }

    .dark {
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    }

    .container {
      background: rgba(0,0,0,0.35);
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.4);
      width: 65%;
      max-width: 700px;
    }

    h1 { margin-bottom: 10px; }

    #quote {
      font-size: 1.4rem;
      margin: 20px 0;
      min-height: 70px;
    }

    img {
      width: 200px;
      border-radius: 15px;
      margin-top: 10px;
    }

    button {
      padding: 10px 18px;
      margin: 6px;
      border: none;
      border-radius: 25px;
      background: #ffcc00;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      transform: scale(1.08);
      background: #ffdb4d;
    }

    .top-bar {
      position: absolute;
      top: 10px;
      right: 10px;
    }

    #counter {
      margin-top: 15px;
      font-size: 0.9rem;
      opacity: 0.8;
    }
  </style>
</head>

<body>

  <div class="top-bar">
    <button onclick="toggleTheme()">üåô Toggle Theme</button>
  </div>

  <div class="container">
    <h1>üòÇ Ultimate Funny Generator</h1>

    <div>
      <button onclick="setCategory('general')">General</button>
      <button onclick="setCategory('programmer')">Programmer</button>
      <button onclick="setCategory('study')">Study</button>
      <button onclick="setCategory('sarcastic')">Sarcastic</button>
    </div>

    <div id="quote">Click the button to laugh‚Ä¶</div>
    <img id="meme" src="" alt="meme" />

    <div>
      <button onclick="generateQuote()">Make Me Laugh</button>
      <button onclick="copyQuote()">Copy</button>
      <button onclick="shareWhatsApp()">WhatsApp</button>
      <button onclick="getJokeAPI()">Live Joke</button>
      <button onclick="saveFavorite()">‚≠ê Favorite</button>
      <button onclick="showFavorites()">üìÇ View Favorites</button>
    </div>

    <div id="counter"></div>
  </div>

  <script>

    // Quotes Categories
    const quotes = {
      general: [
        "I‚Äôm not lazy‚Ä¶ I‚Äôm on energy saving mode.",
        "I followed my heart‚Ä¶ it led me to the fridge.",
        "Life is short‚Ä¶ smile while you still have teeth."
      ],
      programmer: [
        "I don‚Äôt debug‚Ä¶ I remove random errors.",
        "99 bugs in the code‚Ä¶ fix one, create 10.",
        "Programmer: A machine that turns coffee into code."
      ],
      study: [
        "I study for 5 minutes‚Ä¶ reward myself with 2 hours phone.",
        "Exams are temporary, memes are permanent.",
        "My brain has too many tabs open."
      ],
      sarcastic: [
        "I‚Äôm not arguing, I‚Äôm explaining why I‚Äôm right.",
        "Common sense is like deodorant.",
        "Oh sorry‚Ä¶ I forgot I only exist when you need help."
      ]
    };

    let currentCategory = "general";

    const memes = [
      "https://i.imgflip.com/30b1gx.jpg",
      "https://i.imgflip.com/1bij.jpg",
      "https://i.imgflip.com/26am.jpg",
      "https://i.imgflip.com/2fm6x.jpg"
    ];

    function setCategory(cat) {
      currentCategory = cat;
      generateQuote();
    }

    // Typing Effect
    function typeText(text) {
      let i = 0;
      const quoteEl = document.getElementById("quote");
      quoteEl.innerText = "";

      const typing = setInterval(() => {
        quoteEl.innerText += text[i];
        i++;
        if (i >= text.length) clearInterval(typing);
      }, 30);
    }

    function generateQuote() {
      playLaugh();
      randomBackground();
      confettiEffect();
      updateCounter();

    // ===== FAVORITES SYSTEM =====

    function saveFavorite() {
      const text = document.getElementById("quote").innerText;
      if (!text) return;

      let favs = JSON.parse(localStorage.getItem("favorites")) || [];
      favs.push(text);
      localStorage.setItem("favorites", JSON.stringify(favs));

      alert("Saved to favorites ‚≠ê");
    }

    function showFavorites() {
      let favs = JSON.parse(localStorage.getItem("favorites")) || [];

      if (favs.length === 0) {
        alert("No favorites saved yet üò¢");
        return;
      }

      const list = favs.map((q,i)=>`${i+1}. ${q}`).join("\n\n");
      alert("Your Favorite Quotes ‚≠ê\n\n" + list);
    }

      const arr = quotes[currentCategory];
      const text = arr[Math.floor(Math.random() * arr.length)];
      typeText(text);

      const meme = memes[Math.floor(Math.random() * memes.length)];
      document.getElementById("meme").src = meme;
    }

    // Sound
    function playLaugh() {
      new Audio("https://www.fesliyanstudios.com/play-mp3/387").play();
    }

    // Theme Toggle
    function toggleTheme() {
      document.body.classList.toggle("dark");
    }

    // Random Background
    function randomBackground() {
      const colors = [
        "linear-gradient(135deg,#667eea,#764ba2)",
        "linear-gradient(135deg,#ff9a9e,#fad0c4)",
        "linear-gradient(135deg,#a18cd1,#fbc2eb)",
        "linear-gradient(135deg,#f6d365,#fda085)"
      ];
      document.body.style.background = colors[Math.floor(Math.random()*colors.length)];
    }

    // Copy
    function copyQuote() {
      navigator.clipboard.writeText(document.getElementById("quote").innerText);
      alert("Copied üòÇ");
    }

    // WhatsApp Share
    function shareWhatsApp() {
      const text = document.getElementById("quote").innerText;
      window.open(`https://wa.me/?text=${encodeURIComponent(text)}`);
    }

    // Joke API
    async function getJokeAPI() {
      const res = await fetch("https://official-joke-api.appspot.com/random_joke");
      const data = await res.json();
      typeText(data.setup + " üòÇ " + data.punchline);
    }

    // Counter
    function updateCounter() {
      let count = localStorage.getItem("quoteCount") || 0;
      count++;
      localStorage.setItem("quoteCount", count);
      document.getElementById("counter").innerText =
        "Quotes generated: " + count;
    }

    // Confetti
    function confettiEffect() {
      for (let i = 0; i < 30; i++) {
        const conf = document.createElement("div");
        conf.style.position = "fixed";
        conf.style.width = "8px";
        conf.style.height = "8px";
        conf.style.background = "white";
        conf.style.top = Math.random()*100 + "%";
        conf.style.left = Math.random()*100 + "%";
        conf.style.opacity = Math.random();
        conf.style.zIndex = 999;
        document.body.appendChild(conf);
        setTimeout(()=>conf.remove(),1000);
      }
    }

    updateCounter();
  </script>
</body>
</html>

